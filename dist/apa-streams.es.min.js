let e=null,t=new WeakMap,n=t=>{e=t,t(),e=null},l=r=>{let o=(e=>{let t={object:()=>Object.fromEntries(Object.entries(e).map((([e,t])=>[e,"object"==typeof t||"function"==typeof t?l(t):t]))),function:()=>{let t=l(1);return n((()=>t.val=e())),t}};return t[typeof e]?t[typeof e]():{val:e}})(r);return new Proxy(o,{get:(n,l,r)=>(((n,l)=>{if(null===e)return;let r=new Map,o=new Set;t.has(n)?(r=t.get(n),o=r.get(l)):(t.set(n,r),r=t.get(n),r.set(l,o),o=r.get(l)),o.add(e)})(n,l),Reflect.get(n,l,r)),set:(e,n,l,r)=>(e[n]!==l&&(Reflect.set(e,n,l,r),((e,n)=>{t.get(e)&&t.get(e).get(n).forEach((e=>e()))})(e,n)),!0)})};export{n as hook,l as stream};
//# sourceMappingURL=apa-streams.min.js.map